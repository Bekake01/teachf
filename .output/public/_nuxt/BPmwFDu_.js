import{f as b,g as _,G as u,H as k,c as o,a as e,as as w,at as j,z as l,aj as D,b as d,F as C,x as $,Y as F,o as a,s as M,v as m,n as N,t as g}from"./CoOn5R3x.js";const V={class:"p-4 md:p-6"},z={class:"mb-6"},B={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4"},S={class:"flex items-center gap-3"},T={key:0,class:"flex justify-center items-center py-12"},A={key:1,class:"text-center py-12"},G={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},I=["onClick"],J={class:"absolute top-4 right-4"},K={class:"relative p-5 space-y-4"},R={class:"flex items-start justify-between gap-3 pr-8"},U={class:"flex items-center gap-3 flex-1 min-w-0"},Y={class:"flex items-center justify-center w-10 h-10 rounded-lg bg-white dark:bg-gray-800 shadow-sm"},q={class:"font-bold text-lg truncate text-gray-900 dark:text-gray-100"},E={class:"flex items-center justify-between p-3 rounded-lg bg-white dark:bg-gray-800"},H={class:"flex items-center gap-4"},L={class:"text-center"},O={class:"text-2xl font-bold text-green-600 dark:text-green-400"},P={class:"text-center"},Q={class:"text-2xl font-bold text-red-600 dark:text-red-400"},W={class:"text-center"},X={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Z={class:"flex items-center justify-center gap-2 p-3 rounded-lg text-sm font-medium bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300"},ee={key:0,class:"flex items-center justify-center gap-2 p-2 rounded-lg text-sm font-medium bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300"},oe=b({__name:"index2",setup(te){const y=_(),x=u([]),c=u(!0),i=u(""),p=async s=>{c.value=!0,await F.post("/davomat",{date:s}).then(t=>{x.value=t.data,c.value=!1}).catch(t=>{console.log(t),c.value=!1})};k(()=>{const s=new Date;i.value=`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}`,p(i.value)});const h=s=>{s.isdone&&(localStorage.setItem("selectedDv",JSON.stringify({dvid:s.id,fl:s.fl})),y.push("/davomat/history"))},v=s=>s.present+s.abson,f=s=>{const t=v(s);return t>0?Math.round(s.present/t*100):0};return(s,t)=>{const n=M;return a(),o("div",V,[e("div",z,[e("div",B,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-2xl md:text-3xl font-bold"},"Davomat"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Guruhlar davomati")],-1)),e("div",S,[w(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=r=>D(i)?i.value=r:null),onChange:t[1]||(t[1]=r=>p(l(i))),class:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"},null,544),[[j,l(i)]])])])]),l(c)?(a(),o("div",T,[d(n,{name:"i-heroicons-arrow-path",class:"w-8 h-8 animate-spin"})])):l(x).length===0?(a(),o("div",A,[d(n,{name:"i-heroicons-clipboard-document-list",class:"w-16 h-16 mx-auto text-gray-400 mb-4"}),t[3]||(t[3]=e("p",{class:"text-gray-600 dark:text-gray-400"},"Davomat topilmadi",-1))])):(a(),o("div",G,[(a(!0),o(C,null,$(l(x),r=>(a(),o("div",{key:r.id,class:m(["relative overflow-hidden rounded-xl border transition-all duration-300",r.isdone?"bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800 cursor-pointer hover:scale-[1.02] hover:shadow-xl":"bg-red-50 dark:bg-red-950/30 border-red-200 dark:border-red-800 cursor-not-allowed opacity-75"]),onClick:se=>h(r)},[e("div",J,[e("div",{class:m(["p-2 rounded-lg",r.isdone?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"])},[d(n,{name:r.isdone?"i-heroicons-check-circle":"i-heroicons-clock",class:m(["w-6 h-6",r.isdone?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},null,8,["name","class"])],2)]),e("div",K,[e("div",R,[e("div",U,[e("div",Y,[d(n,{name:"i-heroicons-user-group",class:"w-6 h-6 text-gray-700 dark:text-gray-300"})]),e("h3",q,g(r.gnom),1)])]),e("div",E,[e("div",H,[e("div",L,[e("div",O,g(r.present),1),t[4]||(t[4]=e("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Keldi",-1))]),t[6]||(t[6]=e("div",{class:"w-px h-10 bg-gray-300 dark:bg-gray-700"},null,-1)),e("div",P,[e("div",Q,g(r.abson),1),t[5]||(t[5]=e("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Kelmadi",-1))])]),e("div",W,[e("div",X,g(f(r))+"% ",1),t[7]||(t[7]=e("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Foiz",-1))])]),e("div",Z,[d(n,{name:"i-heroicons-users-solid",class:"w-4 h-4 flex-shrink-0"}),e("span",null,"Jami: "+g(v(r))+" ta o'quvchi",1)]),r.isdone?(a(),o("div",ee,[d(n,{name:"i-heroicons-arrow-right-circle"}),t[8]||(t[8]=e("span",null,"Tarixni ko'rish uchun bosing",-1))])):N("",!0)])],10,I))),128))]))])}}});export{oe as default};
